\doxysection{main/con\+\_\+state.c File Reference}
\hypertarget{con__state_8c}{}\label{con__state_8c}\index{main/con\_state.c@{main/con\_state.c}}


Method implementations for the tracking the controller state over time.  


{\ttfamily \#include "{}con\+\_\+state.\+h"{}}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{con__state_8c_a370ec536d5fae7190cdc6f3f48f81315}{sign\+\_\+pct}} (uint8\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Convert a uint8\+\_\+t value to a signed percentage for a joystick. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{con__state_8c_a9f9f4a7ce4da453883ed831777e48a57}{unsign\+\_\+pct}} (uint8\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Convert a uint8\+\_\+t value to an unsigned percentage for a trigger. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{con__state_8c_a0950cdd404757e2ba1641156077bd983}{update\+\_\+button}} (\mbox{\hyperlink{con__state_8h_a9b2b77806b9ebe02ae49fe65fb0d7eec}{Button\+\_\+t}} \texorpdfstring{$\ast$}{*}button, bool value)
\begin{DoxyCompactList}\small\item\em Update the state of a button with a new value fetched from a report. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{con__state_8c_a1a8c11cd0573e4588c02c68e709ee36e}{update\+\_\+joystick}} (\mbox{\hyperlink{con__state_8h_abda4bcfd3086109f0b083a40999c0ad4}{Joystick\+\_\+t}} \texorpdfstring{$\ast$}{*}joystick, float x, float y)
\begin{DoxyCompactList}\small\item\em Update the state of a joystick with new values fetched from a report. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{con__state_8c_a594b1324561f7331b244bbdac519f400}{update\+\_\+trigger}} (\mbox{\hyperlink{con__state_8h_ab61ffbd6da6f72e48c1701d3d35b2063}{Trigger\+\_\+t}} \texorpdfstring{$\ast$}{*}trigger, float value)
\begin{DoxyCompactList}\small\item\em Update the state of a trigger with a new value fetched from a report. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{con__state_8c_a5ffd5db711120f9df18601b6ac8dfdcf}{update\+\_\+dpad}} (\mbox{\hyperlink{con__state_8h_ac2a19185c817024c2051dd63ba940e3f}{DPad\+\_\+t}} \texorpdfstring{$\ast$}{*}dpad, \mbox{\hyperlink{con__state_8h_a2c1ff2325596599694e333e146b142b7}{DPad\+Dir\+\_\+t}} dir)
\begin{DoxyCompactList}\small\item\em Update the state of a D-\/pad with a new value fetched from a report. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{con__state_8c_a89d791d36182e1443b78689cbf89df85}{init\+\_\+controller}} (\mbox{\hyperlink{con__state_8h_a29964fc7afa63f4de31dd47d96ef325a}{Con\+State\+\_\+t}} \texorpdfstring{$\ast$}{*}state)
\begin{DoxyCompactList}\small\item\em Initialize the controller state representation with default values. \end{DoxyCompactList}\item 
int \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{con__state_8c_adbc5a4909b8425bc9f0d369ce1204f76}{update\+\_\+controller}} (\mbox{\hyperlink{con__state_8h_a29964fc7afa63f4de31dd47d96ef325a}{Con\+State\+\_\+t}} \texorpdfstring{$\ast$}{*}state, \mbox{\hyperlink{rep__queue_8h_a18a642d8c9a7dbb0ed7d84cce772d4cf}{Stadia\+Rep\+\_\+t}} \texorpdfstring{$\ast$}{*}rep)
\begin{DoxyCompactList}\small\item\em Update the state of a controller with a new report. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{con__state_8c_adc9b4feccb4cea28467132af9668a1aa}{print\+\_\+controller}} (\mbox{\hyperlink{con__state_8h_a29964fc7afa63f4de31dd47d96ef325a}{Con\+State\+\_\+t}} \texorpdfstring{$\ast$}{*}state)
\begin{DoxyCompactList}\small\item\em Print a controller state to the console for debugging puposes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Method implementations for the tracking the controller state over time. 

\begin{DoxyVersion}{Version}
V1.\+0 
\end{DoxyVersion}
\begin{DoxyAuthor}{Author}
Edward Speer 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
05/26/24 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{con__state_8c_a89d791d36182e1443b78689cbf89df85}\index{con\_state.c@{con\_state.c}!init\_controller@{init\_controller}}
\index{init\_controller@{init\_controller}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{init\_controller()}{init\_controller()}}
{\footnotesize\ttfamily \label{con__state_8c_a89d791d36182e1443b78689cbf89df85} 
void init\+\_\+controller (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{con__state_8h_a29964fc7afa63f4de31dd47d96ef325a}{Con\+State\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{state}{}\end{DoxyParamCaption})}



Initialize the controller state representation with default values. 

This function is used to initialize the controller state representation with default values. The function takes a pointer to a Con\+State\+\_\+t struct and sets the default values for all the buttons, joysticks, triggers, and D-\/pad on the controller.


\begin{DoxyParams}{Parameters}
{\em state} & A pointer to the Con\+State\+\_\+t struct to initialize. \\
\hline
\end{DoxyParams}
\Hypertarget{con__state_8c_adc9b4feccb4cea28467132af9668a1aa}\index{con\_state.c@{con\_state.c}!print\_controller@{print\_controller}}
\index{print\_controller@{print\_controller}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{print\_controller()}{print\_controller()}}
{\footnotesize\ttfamily \label{con__state_8c_adc9b4feccb4cea28467132af9668a1aa} 
void print\+\_\+controller (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{con__state_8h_a29964fc7afa63f4de31dd47d96ef325a}{Con\+State\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{state}{}\end{DoxyParamCaption})}



Print a controller state to the console for debugging puposes. 

This function is used to print a controller state to the console for debugging purposes. The function takes a pointer to a Con\+State\+\_\+t struct and prints the state of all the buttons, joysticks, triggers, and D-\/pad on the controller.


\begin{DoxyParams}{Parameters}
{\em state} & A pointer to the Con\+State\+\_\+t struct to print. \\
\hline
\end{DoxyParams}
\Hypertarget{con__state_8c_a370ec536d5fae7190cdc6f3f48f81315}\index{con\_state.c@{con\_state.c}!sign\_pct@{sign\_pct}}
\index{sign\_pct@{sign\_pct}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{sign\_pct()}{sign\_pct()}}
{\footnotesize\ttfamily \label{con__state_8c_a370ec536d5fae7190cdc6f3f48f81315} 
float sign\+\_\+pct (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{val}{}\end{DoxyParamCaption})}



Convert a uint8\+\_\+t value to a signed percentage for a joystick. 

This function takes a uint8\+\_\+t value and converts it to a signed percentage value. The input value is assumed to be in the range of 0 to 255, with 128 representing 0\%. The output value is in the range of -\/100\% to 100\%.


\begin{DoxyParams}{Parameters}
{\em val} & The uint8\+\_\+t value to convert to a percentage. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The signed percentage value. 
\end{DoxyReturn}
\Hypertarget{con__state_8c_a9f9f4a7ce4da453883ed831777e48a57}\index{con\_state.c@{con\_state.c}!unsign\_pct@{unsign\_pct}}
\index{unsign\_pct@{unsign\_pct}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{unsign\_pct()}{unsign\_pct()}}
{\footnotesize\ttfamily \label{con__state_8c_a9f9f4a7ce4da453883ed831777e48a57} 
float unsign\+\_\+pct (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{val}{}\end{DoxyParamCaption})}



Convert a uint8\+\_\+t value to an unsigned percentage for a trigger. 

This function takes a uint8\+\_\+t value and converts it to an unsigned percentage value. The input value is assumed to be in the range of 0 to 255, with 0 representing 0\%. The output value is in the range of 0\% to 100\%.


\begin{DoxyParams}{Parameters}
{\em val} & The uint8\+\_\+t value to convert to a percentage. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The unsigned percentage value. 
\end{DoxyReturn}
\Hypertarget{con__state_8c_a0950cdd404757e2ba1641156077bd983}\index{con\_state.c@{con\_state.c}!update\_button@{update\_button}}
\index{update\_button@{update\_button}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{update\_button()}{update\_button()}}
{\footnotesize\ttfamily \label{con__state_8c_a0950cdd404757e2ba1641156077bd983} 
int update\+\_\+button (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{con__state_8h_a9b2b77806b9ebe02ae49fe65fb0d7eec}{Button\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{button}{, }\item[{bool}]{val}{}\end{DoxyParamCaption})}



Update the state of a button with a new value fetched from a report. 

This function is used to update the state of a button with a new value fetched from a report. The function takes a pointer to a Button\+\_\+t struct and a boolean value to update the button with. The function then updates the button\textquotesingle{}s pressed value with the new value.


\begin{DoxyParams}{Parameters}
{\em button} & A pointer to the Button\+\_\+t struct to update. \\
\hline
{\em val} & The new value to update the button with. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the button changed, 0 otherwise. 
\end{DoxyReturn}
\Hypertarget{con__state_8c_adbc5a4909b8425bc9f0d369ce1204f76}\index{con\_state.c@{con\_state.c}!update\_controller@{update\_controller}}
\index{update\_controller@{update\_controller}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{update\_controller()}{update\_controller()}}
{\footnotesize\ttfamily \label{con__state_8c_adbc5a4909b8425bc9f0d369ce1204f76} 
int \texorpdfstring{$\ast$}{*} update\+\_\+controller (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{con__state_8h_a29964fc7afa63f4de31dd47d96ef325a}{Con\+State\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{state}{, }\item[{\mbox{\hyperlink{rep__queue_8h_a18a642d8c9a7dbb0ed7d84cce772d4cf}{Stadia\+Rep\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{rep}{}\end{DoxyParamCaption})}



Update the state of a controller with a new report. 

This function is used to update the state of a controller with a new report. The function takes a pointer to a Con\+State\+\_\+t struct and a pointer to a Stadia\+Rep\+\_\+t struct to update the controller with. The function then updates the controller\textquotesingle{}s buttons, joysticks, triggers, and D-\/pad with the new values from the report.


\begin{DoxyParams}{Parameters}
{\em state} & A pointer to the Con\+State\+\_\+t struct to update. \\
\hline
{\em rep} & A pointer to the Stadia\+Rep\+\_\+t struct to update the controller with. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to an integer array containing the indices of the updated controls. 
\end{DoxyReturn}
\Hypertarget{con__state_8c_a5ffd5db711120f9df18601b6ac8dfdcf}\index{con\_state.c@{con\_state.c}!update\_dpad@{update\_dpad}}
\index{update\_dpad@{update\_dpad}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{update\_dpad()}{update\_dpad()}}
{\footnotesize\ttfamily \label{con__state_8c_a5ffd5db711120f9df18601b6ac8dfdcf} 
int update\+\_\+dpad (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{con__state_8h_ac2a19185c817024c2051dd63ba940e3f}{DPad\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{dpad}{, }\item[{\mbox{\hyperlink{con__state_8h_a2c1ff2325596599694e333e146b142b7}{DPad\+Dir\+\_\+t}}}]{dir}{}\end{DoxyParamCaption})}



Update the state of a D-\/pad with a new value fetched from a report. 

This function is used to update the state of a D-\/pad with a new value fetched from a report. The function takes a pointer to a DPad\+\_\+t struct and a DPad\+Dir\+\_\+t value to update the D-\/pad with. The function then updates the D-\/pad\textquotesingle{}s dir value with the new value.


\begin{DoxyParams}{Parameters}
{\em dpad} & A pointer to the DPad\+\_\+t struct to update. \\
\hline
{\em dir} & The new value to update the D-\/pad with. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the D-\/pad changed, 0 otherwise. 
\end{DoxyReturn}
\Hypertarget{con__state_8c_a1a8c11cd0573e4588c02c68e709ee36e}\index{con\_state.c@{con\_state.c}!update\_joystick@{update\_joystick}}
\index{update\_joystick@{update\_joystick}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{update\_joystick()}{update\_joystick()}}
{\footnotesize\ttfamily \label{con__state_8c_a1a8c11cd0573e4588c02c68e709ee36e} 
int update\+\_\+joystick (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{con__state_8h_abda4bcfd3086109f0b083a40999c0ad4}{Joystick\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{joystick}{, }\item[{float}]{x}{, }\item[{float}]{y}{}\end{DoxyParamCaption})}



Update the state of a joystick with new values fetched from a report. 

This function is used to update the state of a joystick with new values fetched from a report. The function takes a pointer to a Joystick\+\_\+t struct and two float values to update the joystick with. The function then updates the joystick\textquotesingle{}s x and y values with the new values.


\begin{DoxyParams}{Parameters}
{\em joystick} & A pointer to the Joystick\+\_\+t struct to update. \\
\hline
{\em x} & The new x value to update the joystick with. \\
\hline
{\em y} & The new y value to update the joystick with. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the joystick x-\/axis changed, 2 if the joystick y-\/axis changed, 3 if both changed, 4 
\end{DoxyReturn}
\Hypertarget{con__state_8c_a594b1324561f7331b244bbdac519f400}\index{con\_state.c@{con\_state.c}!update\_trigger@{update\_trigger}}
\index{update\_trigger@{update\_trigger}!con\_state.c@{con\_state.c}}
\doxysubsubsection{\texorpdfstring{update\_trigger()}{update\_trigger()}}
{\footnotesize\ttfamily \label{con__state_8c_a594b1324561f7331b244bbdac519f400} 
int update\+\_\+trigger (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{con__state_8h_ab61ffbd6da6f72e48c1701d3d35b2063}{Trigger\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{trigger}{, }\item[{float}]{val}{}\end{DoxyParamCaption})}



Update the state of a trigger with a new value fetched from a report. 

This function is used to update the state of a trigger with a new value fetched from a report. The function takes a pointer to a Trigger\+\_\+t struct and a float value to update the trigger with. The function then updates the trigger\textquotesingle{}s val value with the new value.


\begin{DoxyParams}{Parameters}
{\em trigger} & A pointer to the Trigger\+\_\+t struct to update. \\
\hline
{\em val} & The new value to update the trigger with. \\
\hline
{\em pressed} & The new pressed value to update the trigger with. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the trigger changed, 0 otherwise. 
\end{DoxyReturn}
